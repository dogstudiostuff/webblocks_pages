{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@blockly/field-colour/webpack/universalModuleDefinition","webpack://@blockly/field-colour/external umd {\"root\":\"Blockly.JavaScript\",\"commonjs\":\"blockly/javascript\",\"commonjs2\":\"blockly/javascript\",\"amd\":\"blockly/javascript\"}","webpack://@blockly/field-colour/external umd {\"root\":\"Blockly.Lua\",\"commonjs\":\"blockly/lua\",\"commonjs2\":\"blockly/lua\",\"amd\":\"blockly/lua\"}","webpack://@blockly/field-colour/external umd {\"root\":\"Blockly\",\"commonjs\":\"blockly/core\",\"commonjs2\":\"blockly/core\",\"amd\":\"blockly/core\"}","webpack://@blockly/field-colour/external umd {\"root\":\"Blockly.Dart\",\"commonjs\":\"blockly/dart\",\"commonjs2\":\"blockly/dart\",\"amd\":\"blockly/dart\"}","webpack://@blockly/field-colour/../field-grid-dropdown/dist/index.js","webpack://@blockly/field-colour/external umd {\"root\":\"Blockly.PHP\",\"commonjs\":\"blockly/php\",\"commonjs2\":\"blockly/php\",\"amd\":\"blockly/php\"}","webpack://@blockly/field-colour/external umd {\"root\":\"Blockly.Python\",\"commonjs\":\"blockly/python\",\"commonjs2\":\"blockly/python\",\"amd\":\"blockly/python\"}","webpack://@blockly/field-colour/webpack/bootstrap","webpack://@blockly/field-colour/webpack/runtime/define property getters","webpack://@blockly/field-colour/webpack/runtime/hasOwnProperty shorthand","webpack://@blockly/field-colour/webpack/runtime/make namespace object","webpack://@blockly/field-colour/./src/field_colour.ts","webpack://@blockly/field-colour/./src/blocks/colourPicker.ts","webpack://@blockly/field-colour/./src/blocks/colourRandom.ts","webpack://@blockly/field-colour/./src/blocks/colourRgb.ts","webpack://@blockly/field-colour/./src/blocks/colourBlend.ts","webpack://@blockly/field-colour/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"blockly/core\"), require(\"blockly/javascript\"), require(\"blockly/dart\"), require(\"blockly/lua\"), require(\"blockly/php\"), require(\"blockly/python\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"blockly/core\", \"blockly/javascript\", \"blockly/dart\", \"blockly/lua\", \"blockly/php\", \"blockly/python\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"blockly/core\"), require(\"blockly/javascript\"), require(\"blockly/dart\"), require(\"blockly/lua\"), require(\"blockly/php\"), require(\"blockly/python\")) : factory(root[\"Blockly\"], root[\"Blockly.JavaScript\"], root[\"Blockly.Dart\"], root[\"Blockly.Lua\"], root[\"Blockly.PHP\"], root[\"Blockly.Python\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, (__WEBPACK_EXTERNAL_MODULE__370__, __WEBPACK_EXTERNAL_MODULE__127__, __WEBPACK_EXTERNAL_MODULE__379__, __WEBPACK_EXTERNAL_MODULE__157__, __WEBPACK_EXTERNAL_MODULE__537__, __WEBPACK_EXTERNAL_MODULE__557__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__127__;","module.exports = __WEBPACK_EXTERNAL_MODULE__157__;","module.exports = __WEBPACK_EXTERNAL_MODULE__370__;","module.exports = __WEBPACK_EXTERNAL_MODULE__379__;","/*! For license information please see index.js.LICENSE.txt */\n!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t(require(\"blockly/core\"));else if(\"function\"==typeof define&&define.amd)define([\"blockly/core\"],t);else{var o=\"object\"==typeof exports?t(require(\"blockly/core\")):t(e.Blockly);for(var i in o)(\"object\"==typeof exports?exports:e)[i]=o[i]}}(this,e=>(()=>{\"use strict\";var t={370:t=>{t.exports=e}},o={};function i(e){var s=o[e];if(void 0!==s)return s.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var s={};i.r(s),i.d(s,{FieldGridDropdown:()=>d});var r=i(370);class n{constructor(e,t,o,i){this.value=o,this.selected=!1,this.selectionCallback=i,this.element=document.createElement(\"button\"),this.element.id=r.utils.idGenerator.getNextUniqueId(),this.element.className=\"blocklyFieldGridItem\",this.clickHandler=r.browserEvents.conditionalBind(this.element,\"click\",this,this.onClick,!0),e.appendChild(this.element);const s=\"string\"==typeof t?document.createTextNode(t):t;this.element.appendChild(s),r.utils.aria.setRole(this.element,r.utils.aria.Role.GRIDCELL)}dispose(){this.selectionCallback=null,this.element.remove(),this.clickHandler&&(r.browserEvents.unbind(this.clickHandler),this.clickHandler=null)}getId(){return this.element.id}getValue(){return this.value}isSelected(){return this.selected}setSelected(e){this.selected=e,r.utils.aria.setState(this.element,r.utils.aria.State.SELECTED,this.selected),this.element.classList.toggle(\"blocklyFieldGridItemSelected\",this.selected),this.isSelected()&&this.focus()}onClick(){var e;this.setSelected(!0),null===(e=this.selectionCallback)||void 0===e||e.call(this,this)}focus(){this.element.focus({preventScroll:!0});const e=this.element.offsetParent;if(!e)return;const t=this.element.offsetTop,o=e.scrollTop,i=this.getInterItemSpacing();t<o?e.scrollTo(0,t-i):t+this.element.offsetHeight>o+e.clientHeight&&e.scrollBy(0,t+this.element.clientHeight-(o+e.clientHeight)+i)}getInterItemSpacing(){const e=this.element.closest(\".blocklyFieldGrid\");if(!e)return 0;const t=[...e.querySelectorAll(\".blocklyFieldGridItem\")];if(!t.length)return 0;const o=t[0].offsetTop,i=t[0].offsetHeight;for(const e of t)if(e.offsetTop!==o)return e.offsetTop-i-o;return 0}}class l{constructor(e,t,o,i,s){if(this.columns=o,this.rtl=i,this.itemIndices=new Map,this.items=new Array,this.keyDownHandler=null,this.pointerMoveHandler=null,this.selectionCallback=s,this.root=document.createElement(\"div\"),this.root.className=\"blocklyFieldGrid\",this.root.tabIndex=0,r.utils.aria.setRole(this.root,r.utils.aria.Role.GRID),e.appendChild(this.root),this.populateItems(t),this.keyDownHandler=r.browserEvents.conditionalBind(this.root,\"keydown\",this,this.onKeyDown),this.pointerMoveHandler=r.browserEvents.conditionalBind(this.root,\"pointermove\",this,this.onPointerMove,!0),!(o>=1))throw new Error(`Number of columns must be >= 1; got ${o}`);this.columns=o,this.root.style.setProperty(\"--grid-columns\",`${this.columns}`)}populateItems(e){let t=document.createElement(\"div\");for(const[o,i]of e.entries()){if(i===r.FieldDropdown.SEPARATOR)continue;o%this.columns===0&&(t=document.createElement(\"div\"),t.className=\"blocklyFieldGridRow\",r.utils.aria.setRole(t,r.utils.aria.Role.ROW),this.root.appendChild(t));const[e,s]=i,l=(()=>{if((t=e)&&\"object\"==typeof t&&\"src\"in t&&\"string\"==typeof t.src&&\"alt\"in t&&\"string\"==typeof t.alt&&\"width\"in t&&\"number\"==typeof t.width&&\"height\"in t&&\"number\"==typeof t.height){const t=new Image(e.width,e.height);return t.src=e.src,t.alt=e.alt||\"\",t}var t;return e})(),d=new n(t,l,s,e=>{var t;this.setSelectedValue(e.getValue()),null===(t=this.selectionCallback)||void 0===t||t.call(this,e)});this.itemIndices.set(d.getId(),this.itemIndices.size),this.items.push(d)}}dispose(){this.selectionCallback=void 0;for(const e of this.items)e.dispose();this.itemIndices.clear(),this.items.length=0,this.keyDownHandler&&(r.browserEvents.unbind(this.keyDownHandler),this.keyDownHandler=null),this.pointerMoveHandler&&(r.browserEvents.unbind(this.pointerMoveHandler),this.pointerMoveHandler=null),this.root.remove()}onKeyDown(e){if(!(!this.items.length||e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){switch(e.key){case\"ArrowUp\":this.moveFocus(-1*this.columns,!0);break;case\"ArrowDown\":this.moveFocus(this.columns,!0);break;case\"ArrowLeft\":this.moveFocus(-1*(this.rtl?-1:1),!0);break;case\"ArrowRight\":this.moveFocus(1*(this.rtl?-1:1),!0);break;case\"PageUp\":case\"Home\":this.moveFocus(0,!1);break;case\"PageDown\":case\"End\":this.moveFocus(this.items.length-1,!1);break;case\"Enter\":case\"Space\":return void e.stopPropagation();default:return}e.preventDefault(),e.stopPropagation()}}onPointerMove(e){if(!e.movementX&&!e.movementY||!(e.target instanceof Element))return;const t=e.target.closest(\".blocklyFieldGridItem\");if(!t)return;const o=t.id,i=this.itemIndices.get(o);void 0!==i&&this.moveFocus(i,!1)}setSelectedValue(e){for(const[t,o]of this.items.entries()){const i=o.getValue()===e;o.setSelected(i),i&&this.moveFocus(t,!1)}}moveFocus(e,t){let o=e;if(t){const e=this.getFocusedItem();if(!e)return;o+=this.indexOfItem(e)}const i=this.itemAtIndex(o);i&&(i.focus(),r.utils.aria.setState(this.root,r.utils.aria.State.ACTIVEDESCENDANT,i.getId()))}indexOfItem(e){var t;return null!==(t=this.itemIndices.get(e.getId()))&&void 0!==t?t:-1}itemAtIndex(e){return this.items[e]}getFocusedItem(){var e;const t=null!==(e=this.root.querySelector(\".blocklyFieldGridItem:focus\"))&&void 0!==e?e:this.root.querySelector(\".blocklyFieldGridItem\");if(!t||!t.id)return;const o=this.itemIndices.get(t.id);return void 0!==o?this.itemAtIndex(o):void 0}}class d extends r.FieldDropdown{constructor(e,t,o){super(e,t,o),this.columns=3,(null==o?void 0:o.columns)&&this.setColumns(parseInt(`${o.columns}`)),o&&o.primaryColour&&(this.primaryColour=o.primaryColour),o&&o.borderColour&&(this.borderColour=o.borderColour)}static fromJson(e){if(!e.options)throw new Error(\"options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.\");return new this(e.options,void 0,e)}setColumns(e){var t;!isNaN(e)&&e>=1&&(this.columns=e,r.DropDownDiv.getOwner()===this&&r.DropDownDiv.isVisible()&&(null===(t=this.grid)||void 0===t||t.dispose(),this.showEditor_()))}showEditor_(e){var t;r.DropDownDiv.clearContent();const o=!!(null===(t=this.getSourceBlock())||void 0===t?void 0:t.workspace.RTL);this.grid=new l(r.DropDownDiv.getContentDiv(),this.getOptions(!1),this.columns,o,e=>{r.DropDownDiv.hideIfOwner(this),this.setValue(e.getValue())}),r.DropDownDiv.getContentDiv().classList.add(\"blocklyFieldGridContainer\");const i=this.getColours();i&&i.border&&r.DropDownDiv.setColour(i.primary,i.border),r.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this));const s=this.getValue();s&&this.grid.setSelectedValue(s)}doValueUpdate_(e){var t;super.doValueUpdate_(e),null===(t=this.grid)||void 0===t||t.setSelectedValue(e)}getColours(){var e,t;if(this.primaryColour&&this.borderColour)return{primary:this.primaryColour,border:this.borderColour};const o=this.getSourceBlock();if(!(o instanceof r.BlockSvg))return;const i=o.isShadow()?o.getParent():o;return i?{primary:null!==(e=this.primaryColour)&&void 0!==e?e:i.getColour(),border:null!==(t=this.borderColour)&&void 0!==t?t:i.getColourTertiary()}:void 0}}return r.fieldRegistry.register(\"field_grid_dropdown\",d),r.Css.register(\"\\n   .blocklyFieldGridContainer {\\n     padding: 7px;\\n     overflow: auto;\\n   }\\n   \\n  .blocklyFieldGrid {\\n    display: grid;\\n    grid-gap: 7px;\\n    grid-template-columns: repeat(var(--grid-columns), min-content);\\n  }\\n\\n .blocklyFieldGrid .blocklyFieldGridItem {\\n   border: 1px solid rgba(1, 1, 1, 0.5);\\n   border-radius: 4px;\\n   color: white;\\n   min-width: auto;\\n   background: none;\\n   white-space: nowrap;\\n   cursor: pointer;\\n   padding: 6px 15px;\\n }\\n \\n .blocklyFieldGrid .blocklyFieldGridRow {\\n   display: contents;\\n }\\n \\n .blocklyFieldGrid .blocklyFieldGridItem.blocklyFieldGridItemSelected {\\n   background-color: rgba(1, 1, 1, 0.25);\\n }\\n\\n .blocklyFieldGrid .blocklyFieldGridItem:focus {\\n   box-shadow: 0 0 0 4px hsla(0, 0%, 100%, .2);\\n   outline: none;\\n }\\n \"),s})());\n//# sourceMappingURL=index.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__537__;","module.exports = __WEBPACK_EXTERNAL_MODULE__557__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Colour input field.\n */\n\nimport * as Blockly from 'blockly/core';\nimport {\n  FieldGridDropdown,\n  FieldGridDropdownConfig,\n  FieldGridDropdownFromJsonConfig,\n} from '@blockly/field-grid-dropdown';\n\n/**\n * An array of colour strings for the palette.\n * Copied from goog.ui.ColorPicker.SIMPLE_GRID_COLORS\n */\nconst DEFAULT_COLOURS = [\n  // grays\n  '#ffffff',\n  '#cccccc',\n  '#c0c0c0',\n  '#999999',\n  '#666666',\n  '#333333',\n  '#000000',\n  // reds\n  '#ffcccc',\n  '#ff6666',\n  '#ff0000',\n  '#cc0000',\n  '#990000',\n  '#660000',\n  '#330000',\n  // oranges\n  '#ffcc99',\n  '#ff9966',\n  '#ff9900',\n  '#ff6600',\n  '#cc6600',\n  '#993300',\n  '#663300',\n  // yellows\n  '#ffff99',\n  '#ffff66',\n  '#ffcc66',\n  '#ffcc33',\n  '#cc9933',\n  '#996633',\n  '#663333',\n  // olives\n  '#ffffcc',\n  '#ffff33',\n  '#ffff00',\n  '#ffcc00',\n  '#999900',\n  '#666600',\n  '#333300',\n  // greens\n  '#99ff99',\n  '#66ff99',\n  '#33ff33',\n  '#33cc00',\n  '#009900',\n  '#006600',\n  '#003300',\n  // turquoises\n  '#99ffff',\n  '#33ffff',\n  '#66cccc',\n  '#00cccc',\n  '#339999',\n  '#336666',\n  '#003333',\n  // blues\n  '#ccffff',\n  '#66ffff',\n  '#33ccff',\n  '#3366ff',\n  '#3333ff',\n  '#000099',\n  '#000066',\n  // purples\n  '#ccccff',\n  '#9999ff',\n  '#6666cc',\n  '#6633ff',\n  '#6600cc',\n  '#333399',\n  '#330099',\n  // violets\n  '#ffccff',\n  '#ff99ff',\n  '#cc66cc',\n  '#cc33cc',\n  '#993399',\n  '#663366',\n  '#330033',\n];\n\n/**\n * Class for a colour input field.\n */\nexport class FieldColour extends FieldGridDropdown {\n  /**\n   * Used to tell if the field needs to be rendered the next time the block is\n   * rendered.  Colour fields are statically sized, and only need to be\n   * rendered at initialization.\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected override isDirty_ = false;\n\n  /**\n   * @param value The initial value of the field.  Should be in '#rrggbb'\n   *     format.  Defaults to the first value in the default colour array.  Also\n   *     accepts Field.SKIP_SETUP if you wish to skip setup (only used by\n   *     subclasses that want to handle configuration and setting the field\n   *     value after their own constructors have run).\n   * @param validator A function that is called to validate changes to the\n   *     field's value.  Takes in a colour string & returns a validated colour\n   *     string ('#rrggbb' format), or null to abort the change.\n   * @param config A map of options used to configure the field.\n   *     See the [field creation documentation]{@link\n   * https://developers.google.com/blockly/guides/create-custom-blocks/fields/built-in-fields/colour}\n   * for a list of properties this parameter supports.\n   */\n  constructor(\n    value?: string | typeof Blockly.Field.SKIP_SETUP,\n    validator?: FieldColourValidator,\n    config?: FieldColourConfig,\n  ) {\n    const swatches = makeSwatches(config?.colourOptions ?? DEFAULT_COLOURS);\n    super(swatches, validator, {...config, columns: config?.columns ?? 7});\n\n    if (value === Blockly.Field.SKIP_SETUP) return;\n    this.setValue(value);\n  }\n\n  /**\n   * FieldDropdown has complex behaviors for normalizing options that aren't\n   * applicable here. Instead, just return the options as-is.\n   *\n   * @param options The options (colour swatches) to normalize.\n   * @returns The colour swatches as-is.\n   */\n  protected override trimOptions(options: Blockly.MenuOption[]) {\n    return {options};\n  }\n\n  /**\n   * Configure the field based on the given map of options.\n   *\n   * @param config A map of options to configure the field based on.\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected override configure_(config: FieldColourConfig) {\n    super.configure_(config);\n    if (config.colourOptions) {\n      this.setColours(config.colourOptions, config.colourTitles);\n    }\n  }\n\n  /**\n   * Create the block UI for this colour field.\n   *\n   * @internal\n   */\n  override initView() {\n    const constants = this.getConstants();\n    // This can't happen, but TypeScript thinks it can and lint forbids `!.`.\n    if (!constants) throw Error('Constants not found');\n    this.size_ = new Blockly.utils.Size(\n      constants.FIELD_COLOUR_DEFAULT_WIDTH,\n      constants.FIELD_COLOUR_DEFAULT_HEIGHT,\n    );\n    this.createBorderRect_();\n    this.getBorderRect().style['fillOpacity'] = '1';\n    this.getBorderRect().setAttribute('stroke', '#fff');\n    if (this.isFullBlockField()) {\n      this.clickTarget_ = (this.sourceBlock_ as Blockly.BlockSvg).getSvgRoot();\n    }\n  }\n\n  /**\n   * Shows the colour picker dropdown attached to the field.\n   *\n   * @param e The event that triggered display of the colour picker dropdown.\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected override showEditor_(e?: MouseEvent) {\n    super.showEditor_(e);\n    Blockly.DropDownDiv.getContentDiv().classList.add('blocklyFieldColour');\n    Blockly.DropDownDiv.repositionForWindowResize();\n  }\n\n  /**\n   * Defines whether this field should take up the full block or not.\n   *\n   * @returns True if this field should take up the full block. False otherwise.\n   */\n  override isFullBlockField(): boolean {\n    const block = this.getSourceBlock();\n    if (!block) throw new Blockly.UnattachedFieldError();\n\n    const constants = this.getConstants();\n    return (\n      this.blockIsSimpleReporter() &&\n      Boolean(constants?.FIELD_COLOUR_FULL_BLOCK)\n    );\n  }\n\n  /**\n   * @returns True if the source block is a value block with a single editable\n   *     field.\n   * @internal\n   */\n  blockIsSimpleReporter(): boolean {\n    const block = this.getSourceBlock();\n    if (!block) throw new Blockly.UnattachedFieldError();\n\n    if (!block.outputConnection) return false;\n\n    for (const input of block.inputList) {\n      if (input.connection || input.fieldRow.length > 1) return false;\n    }\n    return true;\n  }\n\n  /**\n   * Updates text field to match the colour/style of the block.\n   *\n   * @internal\n   */\n  override applyColour() {\n    const block = this.getSourceBlock() as Blockly.BlockSvg | null;\n    if (!block) throw new Blockly.UnattachedFieldError();\n\n    if (!this.fieldGroup_) return;\n\n    const borderRect = this.borderRect_;\n    if (!borderRect) {\n      throw new Error('The border rect has not been initialized');\n    }\n\n    if (!this.isFullBlockField()) {\n      borderRect.style.display = 'block';\n      borderRect.style.fill = this.getValue() as string;\n    } else {\n      borderRect.style.display = 'none';\n      // In general, do *not* let fields control the color of blocks. Having the\n      // field control the color is unexpected, and could have performance\n      // impacts.\n      block.pathObject.svgPath.setAttribute('fill', this.getValue() as string);\n      block.pathObject.svgPath.setAttribute('stroke', '#fff');\n    }\n  }\n\n  /**\n   * Returns the height and width of the field.\n   *\n   * This should *in general* be the only place render_ gets called from.\n   *\n   * @returns Height and width.\n   */\n  override getSize(): Blockly.utils.Size {\n    if (this.getConstants()?.FIELD_COLOUR_FULL_BLOCK) {\n      // In general, do *not* let fields control the color of blocks. Having the\n      // field control the color is unexpected, and could have performance\n      // impacts.\n      // Full block fields have more control of the block than they should\n      // (i.e. updating fill colour) so they always need to be rerendered.\n      this.render_();\n      this.isDirty_ = false;\n    }\n    return super.getSize();\n  }\n\n  /**\n   * Updates the colour of the block to reflect whether this is a full\n   * block field or not.\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected override render_() {\n    this.updateSize_();\n\n    const block = this.getSourceBlock() as Blockly.BlockSvg | null;\n    if (!block) throw new Blockly.UnattachedFieldError();\n    // Calling applyColour updates the UI (full-block vs non-full-block) for the\n    // colour field, and the colour of the field/block.\n    block.applyColour();\n  }\n\n  /**\n   * Updates the size of the field based on whether it is a full block field\n   * or not.\n   *\n   * @param margin margin to use when positioning the field.\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected updateSize_(margin?: number) {\n    const constants = this.getConstants();\n    if (!constants) return;\n    let totalWidth;\n    let totalHeight;\n    if (this.isFullBlockField()) {\n      const xOffset = margin ?? 0;\n      totalWidth = xOffset * 2;\n      totalHeight = constants.FIELD_TEXT_HEIGHT;\n    } else {\n      totalWidth = constants.FIELD_COLOUR_DEFAULT_WIDTH;\n      totalHeight = constants.FIELD_COLOUR_DEFAULT_HEIGHT;\n    }\n\n    this.size_.height = totalHeight;\n    this.size_.width = totalWidth;\n\n    this.positionBorderRect_();\n  }\n\n  /**\n   * Ensure that the input value is a valid colour.\n   *\n   * @param newValue The input value.\n   * @returns A valid colour, or null if invalid.\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected override doClassValidation_(\n    newValue: string,\n  ): string | null | undefined;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected override doClassValidation_(newValue?: string): string | null;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  protected override doClassValidation_(\n    newValue?: string,\n  ): string | null | undefined {\n    if (typeof newValue !== 'string') {\n      return null;\n    }\n    return Blockly.utils.colour.parse(newValue);\n  }\n\n  /**\n   * Get the text for this field.  Used when the block is collapsed.\n   *\n   * @returns Text representing the value of this field.\n   */\n  override getText(): string {\n    let colour = this.value_ as string;\n    // Try to use #rgb format if possible, rather than #rrggbb.\n    if (/^#(.)\\1(.)\\2(.)\\3$/.test(colour)) {\n      colour = '#' + colour[1] + colour[3] + colour[5];\n    }\n    return colour;\n  }\n\n  /**\n   * Set a custom colour grid for this field.\n   *\n   * @param colours Array of colours for this block, or null to use default\n   *     (FieldColour.COLOURS).\n   * @param titles Optional array of colour tooltips, or null to use default\n   *     (FieldColour.TITLES).\n   * @returns Returns itself (for method chaining).\n   */\n  setColours(colours: string[], titles?: string[]): FieldColour {\n    const swatches = makeSwatches(colours, titles);\n    this.setOptions(swatches);\n    return this;\n  }\n\n  /**\n   * Construct a FieldColour from a JSON arg object.\n   *\n   * @param options A JSON object with options (colour).\n   * @returns The new field instance.\n   * @nocollapse\n   * @internal\n   */\n  static fromJson(options: FieldColourFromJsonConfig): FieldColour {\n    // `this` might be a subclass of FieldColour if that class doesn't override\n    // the static fromJson method.\n    return new this(options.colour, undefined, options);\n  }\n}\n\n/**\n * Creates a set of divs representing colour swatches for use in the picker.\n *\n * @param colours An array of colours to create swatches for. The colours must\n *     be any legal CSS colour specifier.\n * @param titles A corresponding array of titles to be displayed as tooltips on\n *     the colour swatches.\n * @returns An array of pairs of DOM elements representing colour swatches and\n *     their corresponding colour.\n */\nfunction makeSwatches(\n  colours: string[],\n  titles?: string[],\n): Blockly.MenuOption[] {\n  return colours.map((colour, index) => {\n    const swatch = document.createElement('div');\n    swatch.className = 'blocklyColourSwatch';\n    swatch.style.backgroundColor = colour;\n\n    if (titles && index < titles.length) {\n      swatch.title = titles[index];\n    }\n\n    return [swatch, colour];\n  });\n}\n\n/** The default value for this field. */\nFieldColour.prototype.DEFAULT_VALUE = '#ffffff';\n\n/**\n * Register the field and any dependencies.\n */\nexport function registerFieldColour() {\n  Blockly.fieldRegistry.register('field_colour', FieldColour);\n}\n\n/**\n * CSS for colour picker.\n */\nBlockly.Css.register(`\n.blocklyFieldColour .blocklyFieldGridItemSelected,\n.blocklyFieldGridItemSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n\n.blocklyColourSwatch {\n  width: 20px;\n  height: 20px;\n}\n\n.blocklyGridContainer {\n  padding: 0px;\n}\n\n.blocklyFieldColour .blocklyFieldGrid {\n  grid-gap: 0px;\n  row-gap: 4px;\n}\n\n.blocklyFieldColour .blocklyFieldGrid .blocklyGridItem {\n  border-radius: 0;\n  padding: 0;\n  border: 0.5px solid #888;\n  cursor: pointer;\n}\n\n.blocklyFieldColour .blocklyFieldGrid .blocklyFieldGridItem {\n  border: 0.5px solid #888;\n  padding: 0;\n  margin: 0;\n  border-radius: 0;\n}\n\n.blocklyFieldColour .blocklyFieldGrid .blocklyFieldGridItem:focus {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);\n  position: relative;\n  border-radius: 0;\n  outline: none;\n}\n`);\n\n/**\n * Config options for the colour field.\n */\nexport interface FieldColourConfig extends FieldGridDropdownConfig {\n  colourOptions?: string[];\n  colourTitles?: string[];\n}\n\n/**\n * fromJson config options for the colour field.\n */\nexport interface FieldColourFromJsonConfig\n  extends FieldGridDropdownFromJsonConfig {\n  colour?: string;\n}\n\n/**\n * A function that is called to validate changes to the field's value before\n * they are set.\n *\n * @see {@link https://developers.google.com/blockly/guides/create-custom-blocks/fields/validators#return_values}\n * @param newValue The value to be validated.\n * @returns One of three instructions for setting the new value: `T`, `null`,\n * or `undefined`.\n *\n * - `T` to set this function's returned value instead of `newValue`.\n *\n * - `null` to invoke `doValueInvalid_` and not set a value.\n *\n * - `undefined` to set `newValue` as is.\n */\nexport type FieldColourValidator = Blockly.FieldValidator<string>;\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {Block, common as BlocklyCommon} from 'blockly/core';\nimport {\n  JavascriptGenerator,\n  Order as JavascriptOrder,\n} from 'blockly/javascript';\nimport {DartGenerator, Order as DartOrder} from 'blockly/dart';\nimport {LuaGenerator, Order as LuaOrder} from 'blockly/lua';\nimport {PhpGenerator, Order as PhpOrder} from 'blockly/php';\nimport {PythonGenerator, Order as PythonOrder} from 'blockly/python';\nimport {registerFieldColour} from '../field_colour';\nimport {Generators} from './generatorsType';\n\n/** The name this block is registered under. */\nexport const BLOCK_NAME = 'colour_picker';\n\n// Block for colour picker.\nconst jsonDefinition = {\n  type: BLOCK_NAME,\n  message0: '%1',\n  args0: [\n    {\n      type: 'field_colour',\n      name: 'COLOUR',\n      colour: '#ff0000',\n    },\n  ],\n  output: 'Colour',\n  helpUrl: '%{BKY_COLOUR_PICKER_HELPURL}',\n  style: 'colour_blocks',\n  tooltip: '%{BKY_COLOUR_PICKER_TOOLTIP}',\n  extensions: ['parent_tooltip_when_inline'],\n};\n\n/**\n * Javascript block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The JavascriptGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toJavascript(\n  block: Block,\n  generator: JavascriptGenerator,\n): [string, JavascriptOrder] {\n  // Colour picker.\n  const code = generator.quote_(block.getFieldValue('COLOUR'));\n  return [code, JavascriptOrder.ATOMIC];\n}\n\n/**\n * Dart block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The DartGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toDart(\n  block: Block,\n  generator: DartGenerator,\n): [string, DartOrder] {\n  // Colour picker.\n  const code = generator.quote_(block.getFieldValue('COLOUR'));\n  return [code, DartOrder.ATOMIC];\n}\n\n/**\n * Lua block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The LuaGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toLua(\n  block: Block,\n  generator: LuaGenerator,\n): [string, LuaOrder] {\n  // Colour picker.\n  const code = generator.quote_(block.getFieldValue('COLOUR'));\n  return [code, LuaOrder.ATOMIC];\n}\n\n/**\n * PHP block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PhpGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPhp(\n  block: Block,\n  generator: PhpGenerator,\n): [string, PhpOrder] {\n  // Colour picker.\n  const code = generator.quote_(block.getFieldValue('COLOUR'));\n  return [code, PhpOrder.ATOMIC];\n}\n\n/**\n * Python block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PythonGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPython(\n  block: Block,\n  generator: PythonGenerator,\n): [string, PythonOrder] {\n  // Colour picker.\n  const code = generator.quote_(block.getFieldValue('COLOUR'));\n  return [code, PythonOrder.ATOMIC];\n}\n\nconst definitionsDict = BlocklyCommon.createBlockDefinitionsFromJsonArray([\n  jsonDefinition,\n]);\n\n/** The colour_picker BlockDefinition. */\nexport const blockDefinition = definitionsDict[BLOCK_NAME];\n\n/**\n * Install the `colour_picker` block and all of its dependencies.\n *\n * @param gens The CodeGenerators to install per-block\n *     generators on.\n */\nexport function installBlock(gens: Generators = {}) {\n  registerFieldColour();\n  BlocklyCommon.defineBlocks(definitionsDict);\n  if (gens.javascript) gens.javascript.forBlock[BLOCK_NAME] = toJavascript;\n  if (gens.dart) gens.dart.forBlock[BLOCK_NAME] = toDart;\n  if (gens.lua) gens.lua.forBlock[BLOCK_NAME] = toLua;\n  if (gens.php) gens.php.forBlock[BLOCK_NAME] = toPhp;\n  if (gens.python) gens.python.forBlock[BLOCK_NAME] = toPython;\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {Block, common as BlocklyCommon} from 'blockly/core';\nimport {\n  JavascriptGenerator,\n  Order as JavascriptOrder,\n} from 'blockly/javascript';\nimport {DartGenerator, Order as DartOrder} from 'blockly/dart';\nimport {LuaGenerator, Order as LuaOrder} from 'blockly/lua';\nimport {PhpGenerator, Order as PhpOrder} from 'blockly/php';\nimport {PythonGenerator, Order as PythonOrder} from 'blockly/python';\nimport {registerFieldColour} from '../field_colour';\nimport {Generators} from './generatorsType';\n\n/** The name this block is registered under. */\nexport const BLOCK_NAME = 'colour_random';\n\n// Block for random colour.\nconst jsonDefinition = {\n  type: BLOCK_NAME,\n  message0: '%{BKY_COLOUR_RANDOM_TITLE}',\n  output: 'Colour',\n  helpUrl: '%{BKY_COLOUR_RANDOM_HELPURL}',\n  style: 'colour_blocks',\n  tooltip: '%{BKY_COLOUR_RANDOM_TOOLTIP}',\n};\n\n/**\n * Javascript block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The JavascriptGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toJavascript(\n  block: Block,\n  generator: JavascriptGenerator,\n): [string, JavascriptOrder] {\n  // Generate a random colour.\n  const functionName = generator.provideFunction_(\n    'colourRandom',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}() {\n  var num = Math.floor(Math.random() * 0x1000000);\n  return '#' + ('00000' + num.toString(16)).substr(-6);\n}\n`,\n  );\n  const code = functionName + '()';\n  return [code, JavascriptOrder.FUNCTION_CALL];\n}\n\n/**\n * Dart block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The DartGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toDart(\n  block: Block,\n  generator: DartGenerator,\n): [string, DartOrder] {\n  // Generate a random colour.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (generator as any).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  const functionName = generator.provideFunction_(\n    'colour_random',\n    `\nString ${generator.FUNCTION_NAME_PLACEHOLDER_}() {\n  String hex = '0123456789abcdef';\n  var rnd = new Math.Random();\n  return '#\\${hex[rnd.nextInt(16)]}\\${hex[rnd.nextInt(16)]}'\n      '\\${hex[rnd.nextInt(16)]}\\${hex[rnd.nextInt(16)]}'\n      '\\${hex[rnd.nextInt(16)]}\\${hex[rnd.nextInt(16)]}';\n}\n`,\n  );\n  const code = functionName + '()';\n  return [code, DartOrder.UNARY_POSTFIX];\n}\n\n/**\n * Lua block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The LuaGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toLua(\n  block: Block,\n  generator: LuaGenerator,\n): [string, LuaOrder] {\n  // Generate a random colour.\n  const code = 'string.format(\"#%06x\", math.random(0, 2^24 - 1))';\n  return [code, LuaOrder.HIGH];\n}\n\n/**\n * PHP block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PhpGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPhp(\n  block: Block,\n  generator: PhpGenerator,\n): [string, PhpOrder] {\n  // Generate a random colour.\n  const functionName = generator.provideFunction_(\n    'colour_random',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}() {\n  return '#' . str_pad(dechex(mt_rand(0, 0xFFFFFF)), 6, '0', STR_PAD_LEFT);\n}\n`,\n  );\n  const code = functionName + '()';\n  return [code, PhpOrder.FUNCTION_CALL];\n}\n\n/**\n * Python block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PythonGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPython(\n  block: Block,\n  generator: PythonGenerator,\n): [string, PythonOrder] {\n  // Generate a random colour.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (generator as any).definitions_['import_random'] = 'import random';\n  const code = \"'#%06x' % random.randint(0, 2**24 - 1)\";\n  return [code, PythonOrder.FUNCTION_CALL];\n}\n\nconst definitionsDict = BlocklyCommon.createBlockDefinitionsFromJsonArray([\n  jsonDefinition,\n]);\n\n/** The colour_random BlockDefinition. */\nexport const blockDefinition = definitionsDict[BLOCK_NAME];\n\n/**\n * Install the `colour_picker` block and all of its dependencies.\n *\n * @param gens The CodeGenerators to install per-block\n *     generators on.\n */\nexport function installBlock(gens: Generators = {}) {\n  registerFieldColour();\n  BlocklyCommon.defineBlocks(definitionsDict);\n  if (gens.javascript) gens.javascript.forBlock[BLOCK_NAME] = toJavascript;\n  if (gens.dart) gens.dart.forBlock[BLOCK_NAME] = toDart;\n  if (gens.lua) gens.lua.forBlock[BLOCK_NAME] = toLua;\n  if (gens.php) gens.php.forBlock[BLOCK_NAME] = toPhp;\n  if (gens.python) gens.python.forBlock[BLOCK_NAME] = toPython;\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {Block, common as BlocklyCommon} from 'blockly/core';\nimport {\n  JavascriptGenerator,\n  Order as JavascriptOrder,\n} from 'blockly/javascript';\nimport {DartGenerator, Order as DartOrder} from 'blockly/dart';\nimport {LuaGenerator, Order as LuaOrder} from 'blockly/lua';\nimport {PhpGenerator, Order as PhpOrder} from 'blockly/php';\nimport {PythonGenerator, Order as PythonOrder} from 'blockly/python';\nimport {registerFieldColour} from '../field_colour';\nimport {Generators} from './generatorsType';\n\n/** The name this block is registered under. */\nexport const BLOCK_NAME = 'colour_rgb';\n\n// Block for composing a colour from RGB components.\nconst jsonDefinition = {\n  type: BLOCK_NAME,\n  message0:\n    '%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3',\n  args0: [\n    {\n      type: 'input_value',\n      name: 'RED',\n      check: 'Number',\n      align: 'RIGHT',\n    },\n    {\n      type: 'input_value',\n      name: 'GREEN',\n      check: 'Number',\n      align: 'RIGHT',\n    },\n    {\n      type: 'input_value',\n      name: 'BLUE',\n      check: 'Number',\n      align: 'RIGHT',\n    },\n  ],\n  output: 'Colour',\n  helpUrl: '%{BKY_COLOUR_RGB_HELPURL}',\n  style: 'colour_blocks',\n  tooltip: '%{BKY_COLOUR_RGB_TOOLTIP}',\n};\n\n/**\n * Javascript block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The JavascriptGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toJavascript(\n  block: Block,\n  generator: JavascriptGenerator,\n): [string, JavascriptOrder] {\n  // Compose a colour from RGB components expressed as percentages.\n  const red = generator.valueToCode(block, 'RED', JavascriptOrder.NONE) || 0;\n  const green =\n    generator.valueToCode(block, 'GREEN', JavascriptOrder.NONE) || 0;\n  const blue = generator.valueToCode(block, 'BLUE', JavascriptOrder.NONE) || 0;\n  const functionName = generator.provideFunction_(\n    'colourRgb',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {\n  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;\n  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;\n  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;\n  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\n  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\n  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`,\n  );\n  const code = `${functionName}(${red}, ${green}, ${blue})`;\n  return [code, JavascriptOrder.FUNCTION_CALL];\n}\n\n/**\n * Dart block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The DartGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toDart(\n  block: Block,\n  generator: DartGenerator,\n): [string, DartOrder] {\n  // Compose a colour from RGB components expressed as percentages.\n  const red = generator.valueToCode(block, 'RED', DartOrder.NONE) || 0;\n  const green = generator.valueToCode(block, 'GREEN', DartOrder.NONE) || 0;\n  const blue = generator.valueToCode(block, 'BLUE', DartOrder.NONE) || 0;\n\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (generator as any).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  const functionName = generator.provideFunction_(\n    'colour_rgb',\n    `\nString ${generator.FUNCTION_NAME_PLACEHOLDER_}(num r, num g, num b) {\n  num rn = (Math.max(Math.min(r, 100), 0) * 2.55).round();\n  String rs = rn.toInt().toRadixString(16);\n  rs = '0$rs';\n  rs = rs.substring(rs.length - 2);\n  num gn = (Math.max(Math.min(g, 100), 0) * 2.55).round();\n  String gs = gn.toInt().toRadixString(16);\n  gs = '0$gs';\n  gs = gs.substring(gs.length - 2);\n  num bn = (Math.max(Math.min(b, 100), 0) * 2.55).round();\n  String bs = bn.toInt().toRadixString(16);\n  bs = '0$bs';\n  bs = bs.substring(bs.length - 2);\n  return '#$rs$gs$bs';\n}\n`,\n  );\n  const code = `${functionName}(${red}, ${green}, ${blue})`;\n  return [code, DartOrder.UNARY_POSTFIX];\n}\n\n/**\n * Lua block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The LuaGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toLua(\n  block: Block,\n  generator: LuaGenerator,\n): [string, LuaOrder] {\n  // Compose a colour from RGB components expressed as percentages.\n  const functionName = generator.provideFunction_(\n    'colour_rgb',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b)\n  r = math.floor(math.min(100, math.max(0, r)) * 2.55 + .5)\n  g = math.floor(math.min(100, math.max(0, g)) * 2.55 + .5)\n  b = math.floor(math.min(100, math.max(0, b)) * 2.55 + .5)\n  return string.format(\"#%02x%02x%02x\", r, g, b)\nend\n`,\n  );\n  const red = generator.valueToCode(block, 'RED', LuaOrder.NONE) || 0;\n  const green = generator.valueToCode(block, 'GREEN', LuaOrder.NONE) || 0;\n  const blue = generator.valueToCode(block, 'BLUE', LuaOrder.NONE) || 0;\n  const code = `${functionName}(${red}, ${green}, ${blue})`;\n  return [code, LuaOrder.HIGH];\n}\n\n/**\n * PHP block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PhpGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPhp(\n  block: Block,\n  generator: PhpGenerator,\n): [string, PhpOrder] {\n  // Compose a colour from RGB components expressed as percentages.\n  const red = generator.valueToCode(block, 'RED', PhpOrder.NONE) || 0;\n  const green = generator.valueToCode(block, 'GREEN', PhpOrder.NONE) || 0;\n  const blue = generator.valueToCode(block, 'BLUE', PhpOrder.NONE) || 0;\n  const functionName = generator.provideFunction_(\n    'colour_rgb',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}($r, $g, $b) {\n  $r = round(max(min($r, 100), 0) * 2.55);\n  $g = round(max(min($g, 100), 0) * 2.55);\n  $b = round(max(min($b, 100), 0) * 2.55);\n  $hex = '#';\n  $hex .= str_pad(dechex($r), 2, '0', STR_PAD_LEFT);\n  $hex .= str_pad(dechex($g), 2, '0', STR_PAD_LEFT);\n  $hex .= str_pad(dechex($b), 2, '0', STR_PAD_LEFT);\n  return $hex;\n}\n`,\n  );\n  const code = `${functionName}(${red}, ${green}, ${blue})`;\n  return [code, PhpOrder.FUNCTION_CALL];\n}\n\n/**\n * Python block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PythonGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPython(\n  block: Block,\n  generator: PythonGenerator,\n): [string, PythonOrder] {\n  // Compose a colour from RGB components expressed as percentages.\n  const functionName = generator.provideFunction_(\n    'colour_rgb',\n    `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b):\n  r = round(min(100, max(0, r)) * 2.55)\n  g = round(min(100, max(0, g)) * 2.55)\n  b = round(min(100, max(0, b)) * 2.55)\n  return '#%02x%02x%02x' % (r, g, b)\n`,\n  );\n  const r = generator.valueToCode(block, 'RED', PythonOrder.NONE) || 0;\n  const g = generator.valueToCode(block, 'GREEN', PythonOrder.NONE) || 0;\n  const b = generator.valueToCode(block, 'BLUE', PythonOrder.NONE) || 0;\n  const code = functionName + '(' + r + ', ' + g + ', ' + b + ')';\n  return [code, PythonOrder.FUNCTION_CALL];\n}\n\nconst definitionsDict = BlocklyCommon.createBlockDefinitionsFromJsonArray([\n  jsonDefinition,\n]);\n\n/** The colour_rgb BlockDefinition. */\nexport const blockDefinition = definitionsDict[BLOCK_NAME];\n\n/**\n * Install the `colour_rgb` block and all of its dependencies.\n *\n * @param gens The CodeGenerators to install per-block\n *     generators on.\n */\nexport function installBlock(gens: Generators = {}) {\n  registerFieldColour();\n  BlocklyCommon.defineBlocks(definitionsDict);\n  if (gens.javascript) gens.javascript.forBlock[BLOCK_NAME] = toJavascript;\n  if (gens.dart) {\n    gens.dart.forBlock[BLOCK_NAME] = toDart;\n    gens.dart.addReservedWords('Math');\n  }\n  if (gens.lua) gens.lua.forBlock[BLOCK_NAME] = toLua;\n  if (gens.php) gens.php.forBlock[BLOCK_NAME] = toPhp;\n  if (gens.python) gens.python.forBlock[BLOCK_NAME] = toPython;\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {Block, common as BlocklyCommon} from 'blockly/core';\nimport {\n  JavascriptGenerator,\n  Order as JavascriptOrder,\n} from 'blockly/javascript';\nimport {DartGenerator, Order as DartOrder} from 'blockly/dart';\nimport {LuaGenerator, Order as LuaOrder} from 'blockly/lua';\nimport {PhpGenerator, Order as PhpOrder} from 'blockly/php';\nimport {PythonGenerator, Order as PythonOrder} from 'blockly/python';\nimport {registerFieldColour} from '../field_colour';\nimport {Generators} from './generatorsType';\n\n/** The name this block is registered under. */\nexport const BLOCK_NAME = 'colour_blend';\n\n// Block for blending two colours together.\nconst jsonDefinition = {\n  type: BLOCK_NAME,\n  message0:\n    '%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} ' +\n    '%1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3',\n  args0: [\n    {\n      type: 'input_value',\n      name: 'COLOUR1',\n      check: 'Colour',\n      align: 'RIGHT',\n    },\n    {\n      type: 'input_value',\n      name: 'COLOUR2',\n      check: 'Colour',\n      align: 'RIGHT',\n    },\n    {\n      type: 'input_value',\n      name: 'RATIO',\n      check: 'Number',\n      align: 'RIGHT',\n    },\n  ],\n  output: 'Colour',\n  helpUrl: '%{BKY_COLOUR_BLEND_HELPURL}',\n  style: 'colour_blocks',\n  tooltip: '%{BKY_COLOUR_BLEND_TOOLTIP}',\n};\n\n/**\n * Javascript block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The JavascriptGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toJavascript(\n  block: Block,\n  generator: JavascriptGenerator,\n): [string, JavascriptOrder] {\n  // Blend two colours together.\n  const colour1 =\n    generator.valueToCode(block, 'COLOUR1', JavascriptOrder.NONE) ||\n    \"'#000000'\";\n  const colour2 =\n    generator.valueToCode(block, 'COLOUR2', JavascriptOrder.NONE) ||\n    \"'#000000'\";\n  const ratio =\n    generator.valueToCode(block, 'RATIO', JavascriptOrder.NONE) || 0.5;\n  const functionName = generator.provideFunction_(\n    'colourBlend',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {\n  ratio = Math.max(Math.min(Number(ratio), 1), 0);\n  var r1 = parseInt(c1.substring(1, 3), 16);\n  var g1 = parseInt(c1.substring(3, 5), 16);\n  var b1 = parseInt(c1.substring(5, 7), 16);\n  var r2 = parseInt(c2.substring(1, 3), 16);\n  var g2 = parseInt(c2.substring(3, 5), 16);\n  var b2 = parseInt(c2.substring(5, 7), 16);\n  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);\n  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);\n  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);\n  r = ('0' + (r || 0).toString(16)).slice(-2);\n  g = ('0' + (g || 0).toString(16)).slice(-2);\n  b = ('0' + (b || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`,\n  );\n  const code = `${functionName}(${colour1}, ${colour2}, ${ratio})`;\n  return [code, JavascriptOrder.FUNCTION_CALL];\n}\n\n/**\n * Dart block generator function.\n *\n * @param block The Block instance to generate code for.\n * @param generator The DartGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toDart(\n  block: Block,\n  generator: DartGenerator,\n): [string, DartOrder] {\n  // Blend two colours together.\n  const colour1 =\n    generator.valueToCode(block, 'COLOUR1', DartOrder.NONE) || \"'#000000'\";\n  const colour2 =\n    generator.valueToCode(block, 'COLOUR2', DartOrder.NONE) || \"'#000000'\";\n  const ratio = generator.valueToCode(block, 'RATIO', DartOrder.NONE) || 0.5;\n\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (generator as any).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  const functionName = generator.provideFunction_(\n    'colour_blend',\n    `\nString ${generator.FUNCTION_NAME_PLACEHOLDER_}(String c1, String c2, num ratio) {\n  ratio = Math.max(Math.min(ratio, 1), 0);\n  int r1 = int.parse('0x\\${c1.substring(1, 3)}');\n  int g1 = int.parse('0x\\${c1.substring(3, 5)}');\n  int b1 = int.parse('0x\\${c1.substring(5, 7)}');\n  int r2 = int.parse('0x\\${c2.substring(1, 3)}');\n  int g2 = int.parse('0x\\${c2.substring(3, 5)}');\n  int b2 = int.parse('0x\\${c2.substring(5, 7)}');\n  num rn = (r1 * (1 - ratio) + r2 * ratio).round();\n  String rs = rn.toInt().toRadixString(16);\n  num gn = (g1 * (1 - ratio) + g2 * ratio).round();\n  String gs = gn.toInt().toRadixString(16);\n  num bn = (b1 * (1 - ratio) + b2 * ratio).round();\n  String bs = bn.toInt().toRadixString(16);\n  rs = '0$rs';\n  rs = rs.substring(rs.length - 2);\n  gs = '0$gs';\n  gs = gs.substring(gs.length - 2);\n  bs = '0$bs';\n  bs = bs.substring(bs.length - 2);\n  return '#$rs$gs$bs';\n}\n`,\n  );\n  const code = `${functionName}(${colour1}, ${colour2}, ${ratio})`;\n  return [code, DartOrder.UNARY_POSTFIX];\n}\n\n/**\n * Lua generator definition.\n *\n * @param block The Block instance to generate code for.\n * @param generator The LuaGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toLua(\n  block: Block,\n  generator: LuaGenerator,\n): [string, LuaOrder] {\n  // Blend two colours together.\n  const functionName = generator.provideFunction_(\n    'colour_blend',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio)\n  local r1 = tonumber(string.sub(colour1, 2, 3), 16)\n  local r2 = tonumber(string.sub(colour2, 2, 3), 16)\n  local g1 = tonumber(string.sub(colour1, 4, 5), 16)\n  local g2 = tonumber(string.sub(colour2, 4, 5), 16)\n  local b1 = tonumber(string.sub(colour1, 6, 7), 16)\n  local b2 = tonumber(string.sub(colour2, 6, 7), 16)\n  local ratio = math.min(1, math.max(0, ratio))\n  local r = math.floor(r1 * (1 - ratio) + r2 * ratio + .5)\n  local g = math.floor(g1 * (1 - ratio) + g2 * ratio + .5)\n  local b = math.floor(b1 * (1 - ratio) + b2 * ratio + .5)\n  return string.format(\"#%02x%02x%02x\", r, g, b)\nend\n`,\n  );\n  const colour1 =\n    generator.valueToCode(block, 'COLOUR1', LuaOrder.NONE) || \"'#000000'\";\n  const colour2 =\n    generator.valueToCode(block, 'COLOUR2', LuaOrder.NONE) || \"'#000000'\";\n  const ratio = generator.valueToCode(block, 'RATIO', LuaOrder.NONE) || 0;\n  const code = `${functionName}(${colour1}, ${colour2}, ${ratio})`;\n  return [code, LuaOrder.HIGH];\n}\n\n/**\n * PHP generator definition.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PhpGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPhp(\n  block: Block,\n  generator: PhpGenerator,\n): [string, PhpOrder] {\n  // Blend two colours together.\n  const colour1 =\n    generator.valueToCode(block, 'COLOUR1', PhpOrder.NONE) || \"'#000000'\";\n  const colour2 =\n    generator.valueToCode(block, 'COLOUR2', PhpOrder.NONE) || \"'#000000'\";\n  const ratio = generator.valueToCode(block, 'RATIO', PhpOrder.NONE) || 0.5;\n  const functionName = generator.provideFunction_(\n    'colour_blend',\n    `\nfunction ${generator.FUNCTION_NAME_PLACEHOLDER_}($c1, $c2, $ratio) {\n  $ratio = max(min($ratio, 1), 0);\n  $r1 = hexdec(substr($c1, 1, 2));\n  $g1 = hexdec(substr($c1, 3, 2));\n  $b1 = hexdec(substr($c1, 5, 2));\n  $r2 = hexdec(substr($c2, 1, 2));\n  $g2 = hexdec(substr($c2, 3, 2));\n  $b2 = hexdec(substr($c2, 5, 2));\n  $r = round($r1 * (1 - $ratio) + $r2 * $ratio);\n  $g = round($g1 * (1 - $ratio) + $g2 * $ratio);\n  $b = round($b1 * (1 - $ratio) + $b2 * $ratio);\n  $hex = '#';\n  $hex .= str_pad(dechex($r), 2, '0', STR_PAD_LEFT);\n  $hex .= str_pad(dechex($g), 2, '0', STR_PAD_LEFT);\n  $hex .= str_pad(dechex($b), 2, '0', STR_PAD_LEFT);\n  return $hex;\n}\n`,\n  );\n  const code = `${functionName}(${colour1}, ${colour2}, ${ratio})`;\n  return [code, PhpOrder.FUNCTION_CALL];\n}\n\n/**\n * Python generator definition.\n *\n * @param block The Block instance to generate code for.\n * @param generator The PythonGenerator calling the function.\n * @returns A tuple containing the code string and precedence.\n */\nexport function toPython(\n  block: Block,\n  generator: PythonGenerator,\n): [string, PythonOrder] {\n  // Blend two colours together.\n  const functionName = generator.provideFunction_(\n    'colour_blend',\n    `\ndef ${generator.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio):\n  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)\n  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)\n  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)\n  ratio = min(1, max(0, ratio))\n  r = round(r1 * (1 - ratio) + r2 * ratio)\n  g = round(g1 * (1 - ratio) + g2 * ratio)\n  b = round(b1 * (1 - ratio) + b2 * ratio)\n  return '#%02x%02x%02x' % (r, g, b)\n`,\n  );\n  const colour1 =\n    generator.valueToCode(block, 'COLOUR1', PythonOrder.NONE) || \"'#000000'\";\n  const colour2 =\n    generator.valueToCode(block, 'COLOUR2', PythonOrder.NONE) || \"'#000000'\";\n  const ratio = generator.valueToCode(block, 'RATIO', PythonOrder.NONE) || 0;\n  const code = `${functionName}(${colour1}, ${colour2}, ${ratio})`;\n  return [code, PythonOrder.FUNCTION_CALL];\n}\n\nconst definitionsDict = BlocklyCommon.createBlockDefinitionsFromJsonArray([\n  jsonDefinition,\n]);\n\n/** The colour_blend BlockDefinition. */\nexport const blockDefinition = definitionsDict[BLOCK_NAME];\n\n/**\n * Install the `colour_blend` block and all of its dependencies.\n *\n * @param gens The CodeGenerators to install per-block\n *     generators on.\n */\nexport function installBlock(gens: Generators = {}) {\n  registerFieldColour();\n  BlocklyCommon.defineBlocks(definitionsDict);\n  if (gens.javascript) gens.javascript.forBlock[BLOCK_NAME] = toJavascript;\n  if (gens.dart) {\n    gens.dart.forBlock[BLOCK_NAME] = toDart;\n    gens.dart.addReservedWords('Math');\n  }\n  if (gens.lua) gens.lua.forBlock[BLOCK_NAME] = toLua;\n  if (gens.php) gens.php.forBlock[BLOCK_NAME] = toPhp;\n  if (gens.python) gens.python.forBlock[BLOCK_NAME] = toPython;\n}\n","/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './field_colour';\n\nimport * as colourPicker from './blocks/colourPicker';\nimport * as colourRandom from './blocks/colourRandom';\nimport * as colourRgb from './blocks/colourRgb';\nimport * as colourBlend from './blocks/colourBlend';\nimport {Generators} from './blocks/generatorsType';\n\n// Re-export all parts of the definition.\nexport * as colourPicker from './blocks/colourPicker';\nexport * as colourRandom from './blocks/colourRandom';\nexport * as colourRgb from './blocks/colourRgb';\nexport * as colourBlend from './blocks/colourBlend';\n\n/**\n * Install all of the blocks defined in this file and all of their\n * dependencies.\n *\n * @param generators The CodeGenerators to install per-block\n *     generators on.\n */\nexport function installAllBlocks(generators: Generators = {}) {\n  colourPicker.installBlock(generators);\n  colourRgb.installBlock(generators);\n  colourRandom.installBlock(generators);\n  colourBlend.installBlock(generators);\n}\n"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE__370__","__WEBPACK_EXTERNAL_MODULE__127__","__WEBPACK_EXTERNAL_MODULE__379__","__WEBPACK_EXTERNAL_MODULE__157__","__WEBPACK_EXTERNAL_MODULE__537__","__WEBPACK_EXTERNAL_MODULE__557__","t","e","o","s","r","d","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call","Symbol","toStringTag","value","FieldGridDropdown","n","constructor","selected","selectionCallback","element","document","createElement","id","utils","idGenerator","getNextUniqueId","className","clickHandler","browserEvents","conditionalBind","onClick","appendChild","createTextNode","aria","setRole","Role","GRIDCELL","dispose","remove","unbind","getId","getValue","isSelected","setSelected","setState","State","SELECTED","classList","toggle","focus","preventScroll","offsetParent","offsetTop","scrollTop","getInterItemSpacing","scrollTo","offsetHeight","clientHeight","scrollBy","closest","querySelectorAll","length","l","columns","rtl","itemIndices","Map","items","Array","keyDownHandler","pointerMoveHandler","tabIndex","GRID","populateItems","onKeyDown","onPointerMove","Error","style","setProperty","entries","FieldDropdown","SEPARATOR","ROW","src","alt","width","height","Image","setSelectedValue","set","size","push","clear","shiftKey","ctrlKey","metaKey","altKey","key","moveFocus","stopPropagation","preventDefault","movementX","movementY","target","Element","getFocusedItem","indexOfItem","itemAtIndex","ACTIVEDESCENDANT","querySelector","super","setColumns","parseInt","primaryColour","borderColour","fromJson","options","isNaN","DropDownDiv","getOwner","isVisible","grid","showEditor_","clearContent","getSourceBlock","workspace","RTL","getContentDiv","getOptions","hideIfOwner","setValue","add","getColours","border","setColour","primary","showPositionedByField","dropdownDispose_","bind","doValueUpdate_","BlockSvg","isShadow","getParent","getColour","getColourTertiary","fieldRegistry","register","Css","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","obj","prop","DEFAULT_COLOURS","FieldColour","validator","config","makeSwatches","colourOptions","isDirty_","SKIP_SETUP","trimOptions","configure_","setColours","colourTitles","initView","constants","getConstants","size_","Size","FIELD_COLOUR_DEFAULT_WIDTH","FIELD_COLOUR_DEFAULT_HEIGHT","createBorderRect_","getBorderRect","setAttribute","isFullBlockField","clickTarget_","sourceBlock_","getSvgRoot","repositionForWindowResize","blockIsSimpleReporter","Boolean","FIELD_COLOUR_FULL_BLOCK","block","outputConnection","input","inputList","connection","fieldRow","applyColour","fieldGroup_","borderRect","borderRect_","display","pathObject","svgPath","fill","getSize","render_","updateSize_","margin","totalWidth","totalHeight","FIELD_TEXT_HEIGHT","positionBorderRect_","doClassValidation_","newValue","colour","parse","getText","value_","test","colours","titles","swatches","setOptions","map","index","swatch","backgroundColor","title","registerFieldColour","DEFAULT_VALUE","BLOCK_NAME","jsonDefinition","type","message0","args0","name","output","helpUrl","tooltip","extensions","toJavascript","generator","quote_","getFieldValue","ATOMIC","toDart","toLua","toPhp","toPython","definitionsDict","createBlockDefinitionsFromJsonArray","blockDefinition","installBlock","gens","defineBlocks","javascript","forBlock","dart","lua","php","python","provideFunction_","FUNCTION_NAME_PLACEHOLDER_","FUNCTION_CALL","definitions_","UNARY_POSTFIX","HIGH","check","align","red","valueToCode","NONE","green","blue","addReservedWords","colour1","colour2","ratio","installAllBlocks","generators"],"sourceRoot":""}